```mermaid
graph TD
    %% --- VNESHNIE SISTEMY ---
    ExtCouriers["Vneshnie Kurierskie Sluzhby<br>(External Logistics Providers)"]
    PaymentSys["Platezhnyy Shlyuz<br>(Payment Gateway)"]

    %% --- FRONTEND ---
    subgraph Frontend_Layer [Frontend Layer]
        WebApp["Web Application<br>(Klienty)"]
        MobApp["Mobile Application<br>(Kuriers)"]
    end

    %% --- BACKEND ---
    subgraph Backend_System [Backend System]
        Backend["Backend Core<br>(Order Management)"]
        
        Warehouse["Modul Sklada<br>(Warehouse Mgmt)"]
        RouteOpt["Modul Optimizatsii<br>Marshrutov"]
        Notify["Sistema Uvedomleniy<br>(Notification Service)"]
        CourierAdapter["Modul Integratsii<br>s Kurerami"]
        Analytics["Sistema Analitiki"]
        
        DB[("Baza Dannykh<br>(DB)")]
    end

    %% --- SVYAZI ---

    %% Frontend -> Backend
    WebApp -- "REST API / HTTPS" --> Backend
    MobApp -- "REST API / HTTPS" --> Backend

    %% Backend -> Database
    Backend -- "JDBC / SQL (Chtenie/Zapis)" --> DB
    Warehouse -. "Obnovlenie ostatkov" .-> DB

    %% Backend -> Modules
    Backend -- "Inventory API (Rezerv)" --> Warehouse
    Backend -- "Route Calc Interface" --> RouteOpt
    Backend -- "Msg Queue (Trigger)" --> Notify
    Backend -- "Log Stream" --> Analytics
    Backend -- "Internal Logistics API" --> CourierAdapter

    %% Vneshnie svyazi
    CourierAdapter -- "External API / Webhooks" --> ExtCouriers
    Backend -- "Payment API" --> PaymentSys

    %% Stilizatsiya dlya krasoty
    style Backend fill:#f9f,stroke:#333,stroke-width:2px
    style DB fill:#ff9,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
